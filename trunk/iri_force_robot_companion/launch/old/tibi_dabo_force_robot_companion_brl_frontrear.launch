<!-- -->
<launch>

  <!-- load robot defined machines -->
  <include file="$(find tibi_dabo_base)/machines/$(env ROBOT).machines" />

  <!-- tibi/dabo sensors -->
    <!-- published topics: /$(env ROBOT)/sensors/front_laser_scan -->
    <!--                   /$(env ROBOT)/sensors/rear_laser_scan -->
    <!--                   /$(env ROBOT)/sensors/vertical_laser_scan -->
    <!--                   /$(env ROBOT)/sensors/head_right_image -->
    <!--                   /$(env ROBOT)/sensors/payload_battery_status -->
    <!--                   /$(env ROBOT)/sensors/joy -->
    <!-- subscribed topics: -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients: -->
    <!-- action servers: -->
  <include file="$(find tibi_dabo_base)/launch/$(env ROBOT)_sensors.launch">
    <arg name="front_laser"     value="True" />
    <arg name="rear_laser"      value="True" />
    <arg name="vertical_laser"  value="False" />
    <arg name="wiimote"         value="True" />
    <arg name="bumblebee_right" value="False" />
    <arg name="battery"         value="False" />
  </include>

  <!-- tibi/dabo devices -->
    <!-- published topics: $(env ROBOT)/joint_states -->
    <!--                   $(env ROBOT)/segway/status-->
    <!-- subscribed topics: $(env ROBOT)/head/joint_position -->
    <!--                    $(env ROBOT)/head/facial_expression -->
    <!--                    $(env ROBOT)/segway/cmd_vel -->
    <!--                    $(env ROBOT)/joint_states -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients: -->
    <!-- action servers: $(env ROBOT)/left_arm/motion_sequence -->
    <!--                  $(env ROBOT)/left_arm/joint_motion -->
    <!--                  $(env ROBOT)/right_arm/motion_sequence -->
    <!--                  $(env ROBOT)/right_arm/joint_motion -->
    <!--                  $(env ROBOT)/head/motion_sequence -->
    <!--                  $(env ROBOT)/head/lights_sequence -->
    <!--                  $(env ROBOT)/head/joint_motion -->
  <include file="$(find tibi_dabo_base)/launch/$(env ROBOT)_devices.launch">
    <arg name="head"            value="False" />
    <arg name="left_arm"        value="False" />
    <arg name="right_arm"       value="False" />
    <arg name="platform"        value="True" />
  </include>  

  <!-- Segway odometry -->
    <!-- published topics: /$(env ROBOT)/segway/odom -->
    <!-- subscribed topics: /$(env ROBOT)/segway/status -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients: -->
    <!-- action servers: -->
  <include file="$(find iri_segway_rmp200_odom)/launch/tibi_dabo_odom.launch">
  </include>
  
  <!-- AMCL + Map Server-->
    <!-- published topics: /$(env ROBOT)/map -->
    <!-- subscribed topics: /$(env ROBOT)/sensors/laser_scan -->
    <!--                    /$(env ROBOT)/tf -->
    <!--                    /$(env ROBOT)/initialpose -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients: -->
    <!-- action servers: -->
  <include file="$(find tibi_dabo_rosnav)/launch/tibi_dabo_amcl_brl_simple.launch">
  </include>
  
  <!-- no collision -->
    <!-- published topics: /$(env ROBOT)/segway/cmd_vel -->
    <!-- subscribed topics: /$(env ROBOT)/sensors/front_laser_scan -->
    <!--                    /$(env ROBOT)/segway/odom -->
    <!--                    /$(env ROBOT)/no_collision/velocity -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients: -->
    <!-- action servers: /$(env ROBOT)/no_collision/MoveBase -->
  <include file="$(find iri_no_collision)/launch/tibi_dabo_no_collision.launch">
  </include>

  <!-- Laser People Detector -->
    <!-- published topics:  /$(env ROBOT)/laser_people_detection/people -->
    <!-- subscribed topics: /$(env ROBOT)/sensors/front_laser_scan -->
    <!--                    /$(env ROBOT)/sensors/rear_laser_scan -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients: -->
    <!-- action servers: -->

  <include file="$(find iri_laser_people_detection)/launch/tibi_dabo_laser_people_detection_frontrear.launch">
  </include>
 
  <!-- People Tracker -->
    <!-- published topics:  /$(env ROBOT)/people_tracking/peopleSet -->
    <!-- subscribed topics: /$(env ROBOT)/people -->
    <!--                    /$(env ROBOT)/segway/odom -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients: -->
    <!-- action servers: /$(env ROBOT)/people_tracking/people_tracking -->
  <include file="$(find iri_people_tracking)/launch/tibi_dabo_people_tracking.launch">
  </include>
  
  <!-- Force robot companion -->
    <!-- published topics:  -->
    <!-- subscribed topics: /$(env ROBOT)/people_tracking/peopleSet -->
    <!--                    /$(env ROBOT)/sensors/joy -->
    <!--                    /$(env ROBOT)/sensors/front_laser_scan -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients:  /$(env ROBOT)/no_collision/MoveBase -->
    <!-- action servers: -->
<!--
  <include file="$(find iri_force_robot_companion)/launch/tibi_dabo_force_robot_companion.launch">
  </include>
-->  
  <node name="rviz" 
        pkg ="rviz" 
        type="rviz"
        machine="monitor" 
        args="-d $(find iri_force_robot_companion)/config/$(env ROBOT)_force_robot_companion.vcg" />

</launch>
